


name: Run PHP Script

on:

  workflow_dispatch:

  schedule:

    - cron: '0 0 * * *' # Menjadwalkan menjalankan workflow setiap hari jam 00:00 UTC

jobs:

  run-php-script:

    runs-on: ubuntu-latest

    steps:

      - name: Checkout Repository

        uses: actions/checkout@v3

      - name: Set up PHP

        uses: shivammathur/setup-php@v2

        with:

          php-version: '7.4' # Versi PHP yang digunakan

      - name: Run PHP Script

        run: php script.php

      - name: Commit and Push Changes

        run: |

          git config --local user.name "github-actions[bot]"

          git config --local user.email "41898282+github-actions[bot]@users.noreply.github.com"

          git add .

          git commit -m "Update data"

          git pus
